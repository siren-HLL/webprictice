<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>倒计时3</title>
		<style type="text/css">
			*{
					margin:0;
					padding:0;
					font-size:16px;
				}
			#wraper{
				width:400px;
				height:100px;
				margin:50px auto;
			}
			#time_box{
				line-height:100px;
				text-align:center;
				background-color:#E0FFFF;
				box-shadow:0 0 3px blue;
			}
			#time_box .day,#time_box .hour,#time_box .minute,#time_box .second{
				width:40px;
				height:40px;
				display:inline-block;
				background-color:Violet;
				line-height:40px;
				box-shadow:0 0 3px #ccc;
			}
			p{
				font-size: 24px;
			}
		
			#time_box .hour,#time_box .minute,#time_box .second{
				margin-left:10px;
			}
		</style>
	</head>
	<body>
		<div id="wraper">
			<div id="time_box">
				<p>距离贺钦回来还有：</p>
				<span class="day"></span>天
				<span class="hour"></span>时
				<span class="minute"></span>分
				<span class="second"></span>秒
			</div>
		</div>
		<script type="text/javascript">
			window.onload = function(){
				var times = document.querySelector("#time_box");
				var inner = times.getElementsByTagName("span");
				
				//设置定时器;
				var timer = null;
				function setTimer(){
					timer = setInterval(timesPlay,1000);
				}
				setTimer();
				
				function cancleTimer(){
					clearInterval(timer);
				}
				
				function timesPlay(){
					var target_time = new Date(2020,11,04,22,0,0);
					var now = new Date();
					var lastTime = parseInt((target_time - now)/1000);//差距时间转换为秒
					if(lastTime !=0){
						var day = parseInt((lastTime/60/60/24));
						var hour = parseInt((lastTime/60/60%24));//天以外的小时
						var minute = parseInt((lastTime/60%60));//小时以外的分钟
						var second = parseInt((lastTime%60));
						//将获得的时分秒嵌入到相应的盒子中;
						inner[0].innerHTML = day;
						inner[1].innerHTML = hour;
						inner[2].innerHTML = minute;
						inner[3].innerHTML = second;
					}else{
					cancleTimer();
					}
				}	
			}
		</script>
	</body>
</html>
